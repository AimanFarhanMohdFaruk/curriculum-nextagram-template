{% extends "_layout.html" %}

{% block content %}
<div class="container">
  <h1>Edit Profle Username for {{user.username}}</h1>

  <form action="{{ url_for('users.update', id=user.id) }}" method="POST">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>

      <div class="form-group">
          <label for="name">Edit Username:</label>
          <input type="text" name="username" class="form-control"/>
      </div>
      <div class="form-group">
          <label for="name">Email:</label>
          <input type="email" name="email" class="form-control"/>
      </div>
      <div class="form-group">
          <label for="name">Password:</label>
          <input type="password" name="password" class="form-control"/>
      </div>
      <div class="form-group">
        <label for="setprivate">Please select profile account settings</label>
        <select class="form-control" id="setprivate" name="private">
          <option value="False">Public</option>
          <option value="True">Private</option>
        </select>
      </div>
      <button type="submit" class="btn btn-primary">Confirm Changes</button>
  </form>
  <br></br>
  <h1>Upload Profile Image</h1>

  <form action="{{ url_for('users.upload_file', id=user.id) }}" method="POST" enctype="multipart/form-data">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>

      <label for="profile_image">Upload Your File</label>
          <br></br>
          <input type="file" name="profile_image">
          <br></br>
      <button type="submit">Upload</button>
  </form>

  {% with messages = get_flashed_messages() %}
    {% if messages %}
      <ul class=flashes>
      {% for message in messages %}
        <li>{{ message }}</li>
      {% endfor %}
      </ul>
    {% endif %}
  {% endwith %} 
</div>


{% endblock %}